<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dora's Tropical Adventure - Prolog Edition</title>
    <link rel="stylesheet" href="/static/css/game.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <!-- åŠ ä¸ªæ˜Ÿæ˜ŸEmoji -->
            <h1>â­ Dora's Tropical Adventure â­</h1>
            <div class="subtitle">Interactive Prolog Story - v5 Boots System</div>
            <div class="prolog-badge">ğŸ§  Powered by SWI-Prolog</div>
        </div>

        <div class="main-area">
            <div>
                <div class="game-output" id="output">
                    <!-- æ›¿æ¢å¼€å§‹ï¼šä½¿ç”¨HTMLå¡ç‰‡ä»£æ›¿å­—ç¬¦ç”» -->
                    <div class="welcome-card">
                        <div class="welcome-title">
                            ğŸŒŸ Welcome to Dora's Tropical Adventure! ğŸŒŸ
                        </div>
                        
                        <div class="welcome-content">
                            <p style="text-align: center; margin-bottom: 10px;">
                                <strong>Hola! I'm Dora!</strong><br>
                                Let's go on a Prolog adventure together!
                            </p>
                            
                            <ul>
                                <li>ğŸŒ´ <strong>Explore</strong> four mysterious areas</li>
                                <li>ğŸ’ <strong>Collect</strong> 12 items for your Backpack</li>
                                <li>ğŸ¦Š <strong>Stop Swiper</strong> the fox from stealing!</li>
                                <li>ğŸµ <strong>Ask Boots</strong> the monkey for help</li>
                                <li>âœ¨ <strong>Find</strong> the hidden Heaven's Gift!</li>
                            </ul>
                        </div>
                
                        <div class="welcome-footer">
                            Click "Start New Game" to start our adventure!
                        </div>
                    </div>
                    <!-- æ›¿æ¢ç»“æŸ -->
                </div>

                <div class="loading" id="loading">âœ¨ Magic happens... (Prolog processing)</div>

                <div class="input-area">
                    <input type="text" id="command"
                           placeholder="What should we do? (e.g., go(north). take(item). look.)"
                           onkeypress="handleKeyPress(event)"
                           autocomplete="off">
                    <!-- æŒ‰é’®æ–‡å­—å˜åŒ– -->
                    <button class="btn-send" onclick="sendCommand()">Send</button>
                </div>

                <div class="map-display-area">
                    <div class="map-header">ğŸ—ºï¸ I'm the Map!</div>
                    <img src="/static/images/map.jpg" alt="Game Map" class="game-map-image">
                </div>
            </div>

            <div class="side-panel">
                <div class="panel">
                    <!-- å¤§æŒ‰é’®æ–‡å­—å˜åŒ– -->
                    <button class="btn-start" onclick="startGame()">Start New Game</button>
                </div>

                <div class="panel">
                    <h3>ğŸ—ºï¸ Directions</h3>
                    <div class="direction-pad">
                        <!-- æ–¹å‘é”®å¢åŠ ç®­å¤´ -->
                        <button class="dir-btn north" onclick="quickCommand('go(north)')">â¬†ï¸ N</button>
                        <button class="dir-btn west" onclick="quickCommand('go(west)')">â¬…ï¸ W</button>
                        <button class="dir-btn center" onclick="quickCommand('look')">ğŸ‘€ Look</button>
                        <button class="dir-btn east" onclick="quickCommand('go(east)')">E â¡ï¸</button>
                        <button class="dir-btn south" onclick="quickCommand('go(south)')">S â¬‡ï¸</button>
                    </div>
                </div>

                <div class="panel">
                    <h3>ğŸ’ Backpack & Actions</h3>
                    <div class="quick-commands">
                        <button class="quick-btn" onclick="quickCommand('look')">ğŸ‘€ Look</button>
                        <button class="quick-btn" onclick="quickCommand('inventory')">ğŸ’ Backpack</button>
                        <button class="quick-btn" onclick="quickCommand('status')">â¤ï¸ Status</button>
                        <button class="quick-btn" onclick="quickCommand('help')">â“ Help</button>
                        <button class="quick-btn" onclick="quickCommand('boots_search')">ğŸµ Boots Help</button>
                        <button class="quick-btn" onclick="quickCommand('stop_swiper')">ğŸ¦Š Stop Swiper!</button>
                    </div>
                </div>

                <div class="panel">
                    <h3>ğŸ“– Magic Words</h3>
                    <div class="help-text">
                        <p><code>go(direction)</code> - Move</p>
                        <p><code>take(item)</code> - Pick up</p>
                        <p><code>drop(item)</code> - Drop</p>
                        <p><code>use(item)</code> - Use</p>
                        <p><code>boots_search</code> - Let Boots search</p>
                        <p style="margin-top: 10px; color: #D6006E; font-size: 0.8em;">
                            Period at end of command is auto-added
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="character-wrapper">
        <img src="/static/images/dora_transparent.png" class="character dora" alt="Dora">
        <img src="/static/images/boots_transparent.png" class="character boots" alt="Boots">
    </div>

    <script src="/static/js/game.js"></script>
</body>
</html>